<section class="standard-section-layout test-list">
  <div class="container">
    <h3 class="main-title mb-4 d-flex align-items-center gap-2">
      <i class="bi bi-journal-text text-primary fs-4"></i>
      {{ 'TEST.LIST_TITLE' | translate }}
    </h3>

    <div *ngIf="(tests$ | async) as tests">
      @if (tests.length > 0) {
        <div class="row g-4">
          <div class="col-lg-4 col-md-6" *ngFor="let t of tests">
            <div class="card test-card h-100 shadow-sm border-0">
              <div class="card-body d-flex flex-column">
                <h5 class="fw-bold mb-2 text-truncate">{{ t.title }}</h5>

                <ul class="list-unstyled small text-secondary flex-grow-1">
                  <li><i class="bi bi-people me-1 text-primary"></i>{{ 'TEST.CLASS' | translate }}: {{ t.className }}</li>
                  <li><i class="bi bi-clock me-1 text-primary"></i>{{ 'TEST.DURATION' | translate }}: {{ t.duration }} min</li>
                  <li><i class="bi bi-graph-up me-1 text-success"></i>{{ 'TEST.MAX' | translate }}: {{ t.maxDegree }}</li>
                  <li><i class="bi bi-graph-down me-1 text-danger"></i>{{ 'TEST.MIN' | translate }}: {{ t.minDegree }}</li>
                  <li><i class="bi bi-question-circle me-1 text-info"></i>{{ 'TEST.QUESTIONS_COUNT' | translate }}: {{ t.questionIds.length }}</li>
                </ul>

                <div class="mt-auto text-end">
                  <button class="btn btn-sm btn-outline-danger" (click)="delete(t.id)">
                    <i class="bi bi-trash3 me-1"></i>{{ 'TEST.DELETE' | translate }}
                  </button>
                </div>
              </div>
            </div>
          </div>
        </div>
      } @else {
        <div class="empty-state text-center py-5">
          <i class="bi bi-inbox text-muted fs-1 mb-3 d-block"></i>
          <p class="text-muted mb-0">{{ 'TEST.NO_TESTS' | translate }}</p>
        </div>
      }
    </div>
  </div>
</section>
