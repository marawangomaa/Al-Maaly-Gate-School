<nav
  class="navbar navbar-expand-lg px-4 shadow-sm custom-navbar"
  [class.bg-dark]="isDarkMode"
  [class.navbar-dark]="isDarkMode"
  [class.bg-light]="!isDarkMode"
  [class.navbar-light]="!isDarkMode"
>
  <div class="container-fluid">
    <!-- Brand -->
    <a class="navbar-brand d-flex align-items-center" routerLink="/">
      <img
        src="assets/images/logo (4).jpeg"
        alt="Logo"
        class="navbar-logo me-2"
      />
    </a>

    <!-- Mobile Toggler -->
    <button
      class="navbar-toggler"
      type="button"
      data-bs-toggle="collapse"
      data-bs-target="#mainNav"
    >
      <span class="navbar-toggler-icon"></span>
    </button>

    <div class="collapse navbar-collapse justify-content-end" id="mainNav">
      <ul class="navbar-nav align-items-lg-center gap-3">
        <!-- Visitor Menu -->
        <ng-container *ngIf="!isLoggedIn">
          <li class="nav-item">
            <a
              class="nav-link cool-link"
              routerLink="/home"
              routerLinkActive="active"
              [routerLinkActiveOptions]="{ exact: true }"
            >
              {{ "NAV.HOME" | translate }}
            </a>
          </li>
          <li class="nav-item">
            <a
              class="nav-link cool-link"
              routerLink="/login"
              routerLinkActive="active"
              [routerLinkActiveOptions]="{ exact: true }"
            >
              {{ "NAV.LOGIN" | translate }}
            </a>
          </li>
          <li class="nav-item">
            <a
              class="nav-link cool-link"
              routerLink="/register"
              routerLinkActive="active"
              [routerLinkActiveOptions]="{ exact: true }"
            >
              {{ "NAV.REGISTER" | translate }}
            </a>
          </li>
        </ng-container>

        <!-- Logged-In Menu -->
        <ng-container *ngIf="isLoggedIn">
          <li class="nav-item">
            <a
              class="nav-link cool-link"
              routerLink="/app/home"
              routerLinkActive="active"
              [routerLinkActiveOptions]="{ exact: true }"
            >
              {{ "NAV.HOME" | translate }}
            </a>
          </li>
          <li class="nav-item">
            <a
              class="nav-link cool-link"
              routerLink="/app/dashboard/overview"
              routerLinkActive="active"
            >
              {{ "NAV.DASHBOARD" | translate }}
            </a>
          </li>
          <li class="nav-item">
            <a
              class="nav-link cool-link"
              routerLink="/app/profile"
              routerLinkActive="active"
              [routerLinkActiveOptions]="{ exact: true }"
            >
              {{ "NAV.PROFILE" | translate }}
            </a>
          </li>
        </ng-container>

        <!-- Theme Toggle -->
        <li class="nav-item">
          <button
            class="outline-btn d-flex align-items-center gap-2"
            (click)="toggleTheme()"
          >
            <i
              class="bi"
              [ngClass]="
                isDarkMode
                  ? 'bi-sun-fill text-warning '
                  : 'bi-moon-stars-fill text-primary'
              "
            ></i>
            <span>{{
              (isDarkMode ? "NAV.THEMELIGHT" : "NAV.THEMEDARK") | translate
            }}</span>
          </button>
        </li>

        <!-- Language Toggle -->
        <li class="nav-item">
          <button class="outline-btn" (click)="toggleLanguage()">
            {{ currentLang === "ar" ? "English" : "العربية" }}
          </button>
        </li>

        <!-- Login/Logout Toggle -->
        <li class="nav-item">
          <button class="login-toggle-btn" (click)="toggleLogin()">
            {{
              isLoggedIn
                ? ("NAV.LOGOUT" | translate)
                : ("NAV.LOGIN" | translate)
            }}
          </button>
        </li>
      </ul>
    </div>
  </div>
</nav>
