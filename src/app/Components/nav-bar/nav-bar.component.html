<nav
  class="navbar navbar-expand-lg px-4 shadow-sm custom-navbar"
  [class.bg-dark]="isDarkMode"
  [class.navbar-dark]="isDarkMode"
  [class.bg-light]="!isDarkMode"
  [class.navbar-light]="!isDarkMode"
>
  <div class="container-fluid">

    <!-- Brand -->
    <a class="navbar-brand d-flex align-items-center" routerLink="/">
      <img
        src="assets/images/logo (4).jpeg"
        alt="Logo"
        class="navbar-logo me-2"
      />
    </a>

    <!-- Mobile Toggler -->
    <button
      class="navbar-toggler"
      type="button"
      data-bs-toggle="collapse"
      data-bs-target="#mainNav"
    >
      <span class="navbar-toggler-icon"></span>
    </button>

    <div class="collapse navbar-collapse justify-content-end" id="mainNav">

      <ul class="navbar-nav align-items-lg-center gap-3">

        <!-- ðŸš« Visitor Menu -->
        <ng-container *ngIf="!isLoggedIn">
          <li class="nav-item">
            <a class="nav-link cool-link" routerLink="/home" routerLinkActive="active">
              {{ "NAV.HOME" | translate }}
            </a>
          </li>
          <li class="nav-item">
            <a class="nav-link cool-link" routerLink="/login" routerLinkActive="active">
              {{ "NAV.LOGIN" | translate }}
            </a>
          </li>
          <li class="nav-item">
            <a class="nav-link cool-link" routerLink="/register" routerLinkActive="active">
              {{ "NAV.REGISTER" | translate }}
            </a>
          </li>
        </ng-container>

        <!-- âœ… Logged-In Menu -->
        <ng-container *ngIf="isLoggedIn">

          <!-- Shared -->
          <li class="nav-item">
            <a class="nav-link cool-link" routerLink="/app/home" routerLinkActive="active">
              {{ "NAV.HOME" | translate }}
            </a>
          </li>
          <li class="nav-item">
            <a
              class="nav-link cool-link"
              routerLink="/app/dashboard/overview"
              routerLinkActive="active"
            >
              {{ "NAV.DASHBOARD" | translate }}
            </a>
          </li>

          <!-- âœ… Admin -->
          <li class="nav-item" *ngIf="role === 'admin'">
            <a class="nav-link cool-link" routerLink="/app/dashboard/overview" routerLinkActive="active">
              {{ "NAV.DASHBOARD" | translate }} (Admin)
            </a>
          </li>

          <!-- âœ… Teacher -->
          <li class="nav-item" *ngIf="role === 'teacher'">
            <a class="nav-link cool-link" routerLink="/app/dashboard/teacher-overview" routerLinkActive="active">
              {{ "NAV.DASHBOARD" | translate }} (Teacher)
            </a>
          </li>

          <!-- âœ… Student -->
          <li class="nav-item" *ngIf="role === 'student'">
            <a class="nav-link cool-link" routerLink="/app/dashboard/grades" routerLinkActive="active">
              {{ "NAV.DASHBOARD" | translate }} (Student)
            </a>
          </li>

          <!-- Profile -->
          <li class="nav-item">
            <a class="nav-link cool-link" routerLink="/app/profile" routerLinkActive="active">
              {{ "NAV.PROFILE" | translate }}
            </a>
          </li>

        </ng-container>

        <!-- Theme Toggle -->
        <li class="nav-item">
          <button
            class="outline-btn d-flex align-items-center gap-2"
            (click)="toggleTheme()"
          >
            <i
              class="bi"
              [ngClass]="
                isDarkMode
                  ? 'bi-sun-fill text-warning '
                  : 'bi-moon-stars-fill text-primary'
              "
            ></i>
            <span>{{
              (isDarkMode ? "NAV.THEMELIGHT" : "NAV.THEMEDARK") | translate
            }}</span>
          </button>
        </li>

        <!-- Language Toggle -->
        <li class="nav-item">
          <button class="outline-btn" (click)="toggleLanguage()">
            {{ currentLang === "ar" ? "English" : "Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©" }}
          </button>
        </li>

        <!-- Logout -->
        <li class="nav-item" *ngIf="isLoggedIn">
          <button class="login-toggle-btn" (click)="logout()">
            {{ "NAV.LOGOUT" | translate }}
          </button>
        </li>

      </ul>

    </div>
  </div>
</nav>
