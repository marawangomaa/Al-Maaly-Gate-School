<nav
  class="navbar navbar-expand-lg px-4 shadow-sm custom-navbar"
  [class.bg-dark]="isDarkMode"
  [class.navbar-dark]="isDarkMode"
  [class.bg-light]="!isDarkMode"
  [class.navbar-light]="!isDarkMode"
>
  <div class="container-fluid">

    <!-- Brand -->
    <span class="navbar-brand fw-bold fs-3 brand-glow">
      <img src="../../../assets/images/logo.png" width="70px" alt="">
    </span>

    <!-- Mobile Toggler -->
    <button
      class="navbar-toggler"
      type="button"
      data-bs-toggle="collapse"
      data-bs-target="#mainNav"
    >
      <span class="navbar-toggler-icon"></span>
    </button>

    <div class="collapse navbar-collapse justify-content-end" id="mainNav">

      <ul class="navbar-nav align-items-lg-center gap-3">

        <!-- üö´ Visitor Menu -->
        <ng-container *ngIf="!isLoggedIn">
          <li class="nav-item">
            <a class="nav-link cool-link" routerLink="/home" routerLinkActive="active">
              {{ "NAV.HOME" | translate }}
            </a>
          </li>
          <li class="nav-item">
            <a class="nav-link cool-link" routerLink="/login" routerLinkActive="active">
              {{ "NAV.LOGIN" | translate }}
            </a>
          </li>
          <li class="nav-item">
            <a class="nav-link cool-link" routerLink="/register" routerLinkActive="active">
              {{ "NAV.REGISTER" | translate }}
            </a>
          </li>
        </ng-container>

        <!-- ‚úÖ Logged-In Menu -->
        <ng-container *ngIf="isLoggedIn">

          <!-- Shared -->
          <li class="nav-item">
            <a class="nav-link cool-link" routerLink="/app/home" routerLinkActive="active">
              {{ "NAV.HOME" | translate }}
            </a>
          </li>
          <li class="nav-item">
            <a
              class="nav-link cool-link"
              routerLink="/app/dashboard/overview"
              routerLinkActive="active"
            >
              {{ "NAV.DASHBOARD" | translate }}
            </a>
          </li>

          <!-- ‚úÖ Admin -->
          <li class="nav-item" *ngIf="role === 'admin'">
            <a class="nav-link cool-link" routerLink="/app/dashboard/overview" routerLinkActive="active">
              {{ "NAV.DASHBOARD" | translate }} (Admin)
            </a>
          </li>

          <!-- ‚úÖ Teacher -->
          <li class="nav-item" *ngIf="role === 'teacher'">
            <a class="nav-link cool-link" routerLink="/app/dashboard/teacher-overview" routerLinkActive="active">
              {{ "NAV.DASHBOARD" | translate }} (Teacher)
            </a>
          </li>

          <!-- ‚úÖ Student -->
          <li class="nav-item" *ngIf="role === 'student'">
            <a class="nav-link cool-link" routerLink="/app/dashboard/grades" routerLinkActive="active">
              {{ "NAV.DASHBOARD" | translate }} (Student)
            </a>
          </li>

          <!-- Profile -->
          <li class="nav-item">
            <a class="nav-link cool-link" routerLink="/app/profile" routerLinkActive="active">
              {{ "NAV.PROFILE" | translate }}
            </a>
          </li>

        </ng-container>

        <!-- Theme Toggle -->
        <li class="nav-item">
          <button class="theme-toggle-btn" (click)="toggleTheme()">
            <span class="icon">{{ isDarkMode ? "‚òÄÔ∏è" : "üåô" }}</span>
            {{ (isDarkMode ? "NAV.THEMELIGHT" : "NAV.THEMEDARK") | translate }}
          </button>
        </li>

        <!-- Language Toggle -->
        <li class="nav-item">
          <button class="lang-toggle-btn" (click)="toggleLanguage()">
            {{ currentLang === "ar" ? "English" : "ÿßŸÑÿπÿ±ÿ®Ÿäÿ©" }}
          </button>
        </li>

        <!-- Logout -->
        <li class="nav-item" *ngIf="isLoggedIn">
          <button class="login-toggle-btn" (click)="logout()">
            {{ "NAV.LOGOUT" | translate }}
          </button>
        </li>

      </ul>

    </div>
  </div>
</nav>
